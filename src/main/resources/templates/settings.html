<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>

    <html xmlns:th="https://www.thymeleaf.org"
          xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5" >

    <head>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/css/settings.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
    </head>
<body>

<nav class="navbar justify-content-between sticky-top" >
    <a class="navbar-brand" href="#">
        <img src="/esociety_logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
        E-society
    </a>
    <form class="form-inline" th:action="@{/home/profile}" method="post">
        <input class="form-control mr-sm-2" type="search" name="email" placeholder="Search" aria-label="Search">
        <button class="btn btn-primary my-2 my-sm-0" type="submit">Search</button>
    </form>
</nav>

<p class="mt-4" style="text-align:center" th:text="${message}"></p>


<div class="container " style="margin-top:70px;">



    <div class="row gutters-sm">

        <div class="col-md-4 d-none d-md-block">
            <div class="card">
                <div class="card-body">
                    <nav class="nav flex-column nav-pills nav-gap-y-1">
                        <a href="#profile" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded active">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user mr-2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>Profile Information
                        </a>
                        <a href="#account" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings mr-2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>Account Settings
                        </a>
                        <a href="#security" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield mr-2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>Security
                        </a>

                    </nav>
                </div>
            </div>

            <div class="card mb-4 mt-4" >

                <div class="card-body text-center">
                    <form th:action="@{/profile/photo}" method="post">
                        <div class="file-field">
                            <div class="d-flex justify-content-center">

                                <input type="file" name="photo" class="primary">

                            </div>
                            <div class="mb-4">
                                <img th:src="${user.getPhoto()}" th:unless="${user.getPhoto()==null}"  width="150"  class="rounded-circle mt-4"/>
                                <img src="/empty_profile.png"  th:if="${user.getPhoto()==null||user.getPhoto()==''}" width="150" class="rounded-circle  mt-2"/>
                            </div>

                        </div>

                        <br><br>
                        <button type="sumbit" class="btn btn-primary" style="background-color:#4DFDBD;border-color:#4DFDBD;"  > Update  Photo</button>
                    </form>
                </div>
            </div>
            <a th:href="@{/profile}" class="btn btn-light" >Back to my Profile</a>
        </div>

        <div class="col-md-8">
            <div class="card">
                <div class="card-header border-bottom mb-3 d-flex d-md-none">
                    <ul class="nav nav-tabs card-header-tabs nav-gap-x-1" role="tablist">
                        <li class="nav-item">
                            <a href="#profile" data-toggle="tab" class="nav-link has-icon active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></a>
                        </li>
                        <li class="nav-item">
                            <a href="#account" data-toggle="tab" class="nav-link has-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></a>
                        </li>
                        <li class="nav-item">
                            <a href="#security" data-toggle="tab" class="nav-link has-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg></a>
                        </li>

                    </ul>
                </div>


                <div class="card-body tab-content">
                    <div class="tab-pane active" id="profile">
                        <h6>YOUR PROFILE INFORMATION</h6>
                        <hr>

                        <form th:action="@{/profile/update}" th:object="${user}" method="post">

                            <input type="hidden" th:field="*{user_id}" th:value="${user.getUser_id()}">
                            <input type="hidden" th:field="*{email}" th:value="${user.getEmail()}">
                            <input type="hidden" th:field="*{photo}" th:value="${user.getPhoto()}">
                            <input type="hidden" th:field="*{password}" th:value="${user.getPassword()}">
                            <input type="hidden" th:field="*{role}" th:value="${user.getRole()}">
                            <input type="hidden" th:field="*{following}" th:value="${user.getFollowing()}">
                            <input type="hidden" th:field="*{followers}" th:value="${user.getFollowers()}">
                            <input type="hidden" th:field="*{posts}" th:value="${user.getPosts()}">
                            <input type="hidden" th:field="*{likedPosts}" th:value="${user.getLikedPosts()}">
                            <div class="form-group">
                                <label for="firstname">First Name</label>
                                <input type="text" class="form-control" id="firstname" th:field="*{firstname}" placeholder="Enter your Firstname" th:value="${user.getFirstname()}">
                                <small id="firstnamehelp" class="form-text text-muted">You can change or remove it at any time.</small>
                            </div>
                            <div class="form-group">
                                <label for="lastname">Last Name</label>
                                <input type="text" class="form-control"  id="lastname"   th:field="*{lastname}" placeholder="Enter your Lastname" th:value="${user.getLastname()}">
                                <small id="lastnamehelp" class="form-text text-muted">You can change or remove it at any time.</small>
                            </div>
                            <div class="form-group">
                                <label for="tittle">Title</label>
                                <input type="text" class="form-control" id="tittle" th:field="*{title}" placeholder="Enter your Title" th:value="${user.getTitle()}">
                                <small id="titlehelp" class="form-text text-muted">Insert a title that describes you best.</small>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="text" class="form-control" id="phone" th:field="*{phone}" placeholder="Enter your Phone Number" th:value="${user.getPhone()}">

                            </div>

                            <div class="form-group">
                                <label for="gender">Gender</label>
                                <select class="form-select" aria-label="Default select example" th:field="*{gender}" id="gender" >
                                    <option selected th:value="${user.getGender()}">Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>

                             <div class="form-group">
                             <label for="birthday">Birthday</label>
                                 <input type="date" class="form-control" id="birthday"  placeholder="Enter your Birthday" th:value="${user.getBirthday()}">

                             </div>


                            </div>

                            <div class="form-group small text-muted">
                                All of the fields on this page are optional and can be deleted at any time, and by filling them out, you're giving us consent to share this data wherever your user profile appears.
                            </div>
                            <button  class="btn btn-primary" style="background-color:#4DFDBD;border-color:#4DFDBD;" type="submit">Update Profile</button>
                            <button type="reset" class="btn btn-light">Reset Changes</button>

                    </div>
                    <div class="tab-pane" id="account">
                        <h6>ACCOUNT SETTINGS</h6>
                        <hr>
                        <form>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" class="form-control" id="email" aria-describedby="usernameHelp" th:value="${user.getEmail()}" disabled="">
                                <small id="emailHelp" class="form-text text-muted">You can't change your email.</small>
                            </div>
                            <hr>
                            <div class="form-group">
                                <label class="d-block text-danger">Delete Account</label>
                                <p class="text-muted font-size-sm">Once you delete your account, there is no going back. Please be certain.</p>
                            </div>
                            <button class="btn btn-danger" type="button">Delete Account</button>
                        </form>
                    </div>
                    <div class="tab-pane" id="security">
                        <h6>SECURITY SETTINGS</h6>
                        <hr>
                        <form th:action="@{/profile/password}" method="post">
                            <div class="form-group">
                                <label class="d-block">Change Password</label>
                                <input type="text" name="old_password" class="form-control" placeholder="Enter your old password">
                                <input type="text" name="new_password" class="form-control mt-1" placeholder="New password">

                            </div>


                        <hr>
                            <button type="submit" class="btn btn-primary" style="background-color:#4DFDBD;border-color:#4DFDBD;">Update Password</button>
                        </form>


                    </div>

                </div>
            </div>
        </div>
    </div>

</div>

<script type="text/javascript"></script>


</body>
</html>